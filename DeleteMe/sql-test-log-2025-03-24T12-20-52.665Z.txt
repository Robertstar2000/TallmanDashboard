[2025-03-24T12:20:52.668Z] Log file created at: logs\sql-test-log-2025-03-24T12-20-52.665Z.txt
[2025-03-24T12:20:52.671Z] Starting SQL expression testing and updating process...
[2025-03-24T12:20:52.672Z] Checking if server is running...
[2025-03-24T12:20:52.672Z] Attempting to connect to the server...
[2025-03-24T12:20:52.672Z] Sending GET request to http://localhost:3000...
[2025-03-24T12:20:52.805Z] Checking API endpoint at http://localhost:3000/api/admin/health...
[2025-03-24T12:20:52.834Z] Server and API are running correctly.
[2025-03-24T12:20:52.834Z] ✅ Server is running. Proceeding with SQL testing...
[2025-03-24T12:20:52.835Z] Testing P21 database connection...
[2025-03-24T12:20:52.835Z] Testing SQL expression on P21:
[2025-03-24T12:20:52.835Z] SELECT 1 AS value
[2025-03-24T12:20:52.859Z] ✅ SQL expression test result: 0
[2025-03-24T12:20:52.860Z] Result is a primitive value: 0 (zero)
[2025-03-24T12:20:52.860Z] ✅ P21 database connection successful.
[2025-03-24T12:20:52.860Z] Testing POR database connection...
[2025-03-24T12:20:52.861Z] Testing SQL expression on POR:
[2025-03-24T12:20:52.861Z] SELECT 1 AS value
[2025-03-24T12:20:52.897Z] ✅ SQL expression test result: 0
[2025-03-24T12:20:52.898Z] Result is a primitive value: 0 (zero)
[2025-03-24T12:20:52.898Z] ✅ POR database connection successful.
[2025-03-24T12:20:52.898Z] Fetching database schema information...
[2025-03-24T12:20:52.899Z] Fetching schema information for P21 database...
[2025-03-24T12:20:53.326Z] ⚠️ Warning: Successfully fetched schema for P21 database but found 0 tables. This likely indicates a connection issue.
[2025-03-24T12:20:53.326Z] Please ensure the P21 connection is properly configured in the admin interface.
[2025-03-24T12:20:53.327Z] Schema saved to C:\Users\BobM\CascadeProjects\TallmanDashboard_new\reports\p21-schema-2025-03-24T12-20-53.326Z.json
[2025-03-24T12:20:53.327Z] Fetching schema information for POR database...
[2025-03-24T12:20:53.344Z] ⚠️ Warning: Successfully fetched schema for POR database but found 0 tables. This likely indicates a connection issue.
[2025-03-24T12:20:53.344Z] Please ensure the POR connection is properly configured in the admin interface.
[2025-03-24T12:20:53.345Z] Schema saved to C:\Users\BobM\CascadeProjects\TallmanDashboard_new\reports\por-schema-2025-03-24T12-20-53.344Z.json
[2025-03-24T12:20:53.345Z] ❌ Failed to retrieve valid schema for P21 database.
[2025-03-24T12:20:53.345Z] This may indicate that the P21 connection is not properly configured or accessible.
[2025-03-24T12:20:53.346Z] Please ensure P21 connection is properly configured in the admin interface.
[2025-03-24T12:20:53.346Z] 1. Start the server with "npm run dev"
[2025-03-24T12:20:53.346Z] 2. Open http://localhost:3000/admin in your browser
[2025-03-24T12:20:53.346Z] 3. Go to the Query Test page
[2025-03-24T12:20:53.346Z] 4. Configure the P21 connection settings
[2025-03-24T12:20:53.346Z] 5. Test the connection to verify it works
[2025-03-24T12:20:53.347Z] 6. Run this script again
