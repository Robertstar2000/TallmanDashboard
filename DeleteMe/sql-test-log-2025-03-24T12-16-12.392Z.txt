[2025-03-24T12:16:12.394Z] Log file created at: logs\sql-test-log-2025-03-24T12-16-12.392Z.txt
[2025-03-24T12:16:12.397Z] Starting SQL expression testing and updating process...
[2025-03-24T12:16:12.398Z] Checking if server is running...
[2025-03-24T12:16:12.398Z] Attempting to connect to the server...
[2025-03-24T12:16:12.407Z] Sending GET request to http://localhost:3000...
[2025-03-24T12:16:12.527Z] Checking API endpoint at http://localhost:3000/api/admin/health...
[2025-03-24T12:16:12.551Z] Server and API are running correctly.
[2025-03-24T12:16:12.551Z] ✅ Server is running. Proceeding with SQL testing...
[2025-03-24T12:16:12.552Z] Testing P21 database connection...
[2025-03-24T12:16:12.552Z] Testing SQL expression on P21:
[2025-03-24T12:16:12.553Z] SELECT 1 AS value
[2025-03-24T12:16:12.567Z] ✅ SQL expression test result: 0
[2025-03-24T12:16:12.568Z] Result is a primitive value: 0 (zero)
[2025-03-24T12:16:12.568Z] ✅ P21 database connection successful.
[2025-03-24T12:16:12.568Z] Testing POR database connection...
[2025-03-24T12:16:12.568Z] Testing SQL expression on POR:
[2025-03-24T12:16:12.568Z] SELECT 1 AS value
[2025-03-24T12:16:12.581Z] ✅ SQL expression test result: 0
[2025-03-24T12:16:12.581Z] Result is a primitive value: 0 (zero)
[2025-03-24T12:16:12.582Z] ✅ POR database connection successful.
[2025-03-24T12:16:12.582Z] Fetching database schema information...
[2025-03-24T12:16:12.582Z] Fetching schema information for P21 database...
[2025-03-24T12:16:13.847Z] ⚠️ Warning: Successfully fetched schema for P21 database but found 0 tables. This likely indicates a connection issue.
[2025-03-24T12:16:13.848Z] Please ensure the P21 connection is properly configured in the admin interface.
[2025-03-24T12:16:13.849Z] Schema saved to C:\Users\BobM\CascadeProjects\TallmanDashboard_new\reports\p21-schema-2025-03-24T12-16-13.848Z.json
[2025-03-24T12:16:13.849Z] Fetching schema information for POR database...
[2025-03-24T12:16:13.871Z] ⚠️ Warning: Successfully fetched schema for POR database but found 0 tables. This likely indicates a connection issue.
[2025-03-24T12:16:13.872Z] Please ensure the POR connection is properly configured in the admin interface.
[2025-03-24T12:16:13.873Z] Schema saved to C:\Users\BobM\CascadeProjects\TallmanDashboard_new\reports\por-schema-2025-03-24T12-16-13.872Z.json
[2025-03-24T12:16:13.873Z] ❌ Failed to retrieve valid schema for P21 database.
[2025-03-24T12:16:13.873Z] This may indicate that the P21 connection is not properly configured or accessible.
[2025-03-24T12:16:13.873Z] Please ensure P21 connection is properly configured in the admin interface.
[2025-03-24T12:16:13.874Z] 1. Start the server with "npm run dev"
[2025-03-24T12:16:13.874Z] 2. Open http://localhost:3000/admin in your browser
[2025-03-24T12:16:13.874Z] 3. Go to the Query Test page
[2025-03-24T12:16:13.874Z] 4. Configure the P21 connection settings
[2025-03-24T12:16:13.874Z] 5. Test the connection to verify it works
[2025-03-24T12:16:13.874Z] 6. Run this script again
